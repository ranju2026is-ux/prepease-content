<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrepEase | Karnataka & SSC Exam Mastery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root { scroll-behavior: smooth; }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #f8fafc; 
            color: #0f172a; 
            overflow-x: hidden; 
        }
        
        .hero-gradient {
            background: radial-gradient(circle at 100% 0%, rgba(67, 56, 202, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 0% 100%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
            background-color: #ffffff;
        }

        .premium-card {
            @apply bg-white border border-slate-200 rounded-[2rem] p-8 transition-all duration-500 cursor-pointer;
            box-shadow: 0 4px 12px -2px rgba(15, 23, 42, 0.03);
        }

        .premium-card:hover {
            @apply -translate-y-2;
            box-shadow: 0 20px 30px -10px rgba(67, 56, 202, 0.12);
            border-color: rgba(67, 56, 202, 0.3);
        }

        /* ANKI FLIP CARD STYLES */
        .anki-card {
            perspective: 1000px;
            height: 450px;
            width: 100%;
        }
        .anki-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }
        .anki-card.flipped .anki-card-inner {
            transform: rotateY(180deg);
        }
        .anki-card-front, .anki-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            @apply flex flex-col items-center justify-center rounded-[3rem] p-10 border-4 border-white shadow-2xl;
        }
        .anki-card-front {
            @apply bg-white border-indigo-50;
        }
        .anki-card-back {
            @apply bg-indigo-600 text-white;
            transform: rotateY(180deg);
        }

        /* LOGO BOX GROWTH ANIMATION */
        @keyframes box-growth {
            0% { transform: scaleY(0); opacity: 0; transform-origin: bottom; }
            100% { transform: scaleY(1); opacity: 1; transform-origin: bottom; }
        }
        @keyframes p-draw {
            0% { stroke-dashoffset: 80; opacity: 0; }
            100% { stroke-dashoffset: 0; opacity: 1; }
        }
        .logo-box { animation: box-growth 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .logo-p { stroke-dasharray: 80; stroke-dashoffset: 80; animation: p-draw 1s ease-out forwards; animation-delay: 0.5s; }

        /* VIEW TRANSITIONS */
        .view-transition { animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .fade-out { opacity: 0; transform: translateY(-10px); transition: all 0.5s ease; }
        .fade-in { opacity: 1; transform: translateY(0); transition: all 0.5s ease; }

        .font-kannada { line-height: 1.6; }
        input:focus { outline: none; border-color: #4338ca; }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body>

    <!-- TOP MOTIVATIONAL BAR -->
    <div id="moto-bar" class="fixed top-0 w-full z-[60] bg-slate-900 text-white py-2.5 overflow-hidden border-b border-white/10 shadow-xl">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <span id="moto-text" class="text-[10px] md:text-xs font-bold uppercase tracking-[0.25em] inline-block">
                Consistency is the key to Selection. üéØ
            </span>
        </div>
    </div>

    <!-- NAVIGATION -->
    <nav class="fixed top-[44px] w-full z-50 bg-white/80 backdrop-blur-xl border-b border-slate-100">
        <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
            <!-- P IN BOX LOGO -->
            <div class="flex items-center gap-4 group cursor-pointer" onclick="navigateTo('home')">
                <div class="relative flex items-center justify-center">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect class="logo-box" width="40" height="40" rx="8" fill="#4338ca"/>
                        <path class="logo-p" d="M14 28V12H22C24.7614 12 27 14.2386 27 17C27 19.7614 24.7614 22 22 22H14" stroke="white" stroke-width="4.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="flex flex-col leading-none text-left">
                    <span class="text-xl font-black tracking-tighter text-slate-900 group-hover:text-indigo-600 transition-colors uppercase">PrepEase</span>
                    <span class="text-[9px] font-bold text-emerald-600 uppercase tracking-[0.2em]">Officer Roadmap</span>
                </div>
            </div>
            
            <div id="nav-links" class="hidden md:flex items-center gap-8">
                <button onclick="navigateTo('home')" class="text-sm font-semibold text-slate-600 hover:text-indigo-700 transition-colors">Dashboard</button>
                <button onclick="navigateTo('doubts')" class="text-sm font-semibold text-slate-600 hover:text-indigo-700 transition-colors">Support</button>
                <div class="h-4 w-px bg-slate-200"></div>
                <div id="auth-status"></div>
            </div>
        </div>
    </nav>

    <!-- MAIN APP CONTAINER -->
    <main id="app-shell" class="pt-[124px] min-h-screen">
        <!-- Dynamic Views -->
    </main>

    <!-- FOOTER -->
    <footer class="py-16 bg-white border-t border-slate-100">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-8 text-center md:text-left">
            <div>
                <span class="text-lg font-black tracking-tighter text-slate-900 uppercase font-bold">PrepEase Mastery</span>
                <p class="text-slate-400 text-xs mt-2 max-w-xs leading-relaxed">Tailored for Karnataka KPSC (FDA/SDA) & SSC central aspirants.</p>
            </div>
            <div class="flex gap-8">
                <a href="#" class="text-slate-500 hover:text-indigo-600 font-bold text-[10px] uppercase tracking-widest transition-colors">LinkedIn</a>
                <a href="#" class="text-slate-500 hover:text-indigo-600 font-bold text-[10px] uppercase tracking-widest transition-colors">Instagram</a>
                <a href="#" class="text-slate-500 hover:text-indigo-600 font-bold text-[10px] uppercase tracking-widest transition-colors">Community</a>
            </div>
        </div>
    </footer>

    <script>
        // --- SYLLABUS DATA ---
        const quotes = [
            "Consistency is the key to Selection. üéØ",
            "Mastering English is half the battle won. üá¨üáß",
            "KPSC Excellence begins with everyday habits. üèõÔ∏è",
            "Focus on the mission, not the competition. ‚öîÔ∏è"
        ];
        
        const topicsData = {
            grammar: [
                { id: 'nouns', title: 'Nouns & Case', icon: 'üî°' },
                { id: 'tenses', title: 'Tense Mastery', icon: '‚è≥' },
                { id: 'articles', title: 'Articles', icon: 'üÖ∞Ô∏è' },
                { id: 'subject-verb', title: 'Subject-Verb Agreement', icon: '‚öñÔ∏è' },
                { id: 'prepositions', title: 'Prepositions', icon: 'üìç' },
                { id: 'conjunctions', title: 'Conjunctions', icon: 'üîó' },
                { id: 'active-passive', title: 'Active & Passive Voice', icon: 'üîÑ' },
                { id: 'direct-indirect', title: 'Direct & Indirect Speech', icon: 'üí¨' }
            ],
            vocabulary: [
                { id: 'synonyms', title: 'Synonyms', icon: 'üìñ' },
                { id: 'antonyms', title: 'Antonyms', icon: 'üåì' },
                { id: 'substitution', title: 'One Word Substitution', icon: '1Ô∏è‚É£' },
                { id: 'idioms', title: 'Idioms & Phrases', icon: 'üé≠' }
            ]
        };

        // --- APP STATE ---
        const state = {
            view: 'home',
            isAuthenticated: false,
            userName: '',
            intendedView: null,
            intendedParams: {},
            currentCategory: 'General English',
            currentType: null, // 'grammar' or 'vocabulary'
            currentTopic: null,
            currentLevel: null
        };

        // --- NAVIGATION ENGINE ---
        function navigateTo(view, params = {}) {
            const protectedViews = ['english-selection', 'topics-grid', 'levels-grid', 'content-view'];
            if (protectedViews.includes(view) && !state.isAuthenticated) {
                state.intendedView = view;
                state.intendedParams = params;
                state.view = 'login';
            } else {
                state.view = view;
            }
            Object.assign(state, params);
            render();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function handleLogin(event) {
            event.preventDefault();
            const name = document.getElementById('name-input').value;
            if (name.trim().length < 2) return alert("Please enter your name.");
            state.userName = name;
            state.isAuthenticated = true;
            if (state.intendedView) {
                const target = state.intendedView;
                const params = state.intendedParams;
                state.intendedView = null;
                navigateTo(target, params);
            } else {
                navigateTo('home');
            }
        }

        // --- RENDERING ENGINE ---
        function render() {
            const shell = document.getElementById('app-shell');
            const authStatus = document.getElementById('auth-status');
            
            if (state.isAuthenticated) {
                authStatus.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="text-sm font-bold text-indigo-700">Hi, ${state.userName.split(' ')[0]}</span>
                        <button onclick="logout()" class="w-8 h-8 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center border border-indigo-100 hover:bg-red-50 hover:text-red-500 transition-colors">
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
                        </button>
                    </div>
                `;
            } else {
                authStatus.innerHTML = `<button onclick="navigateTo('login')" class="px-6 py-2.5 text-xs font-bold bg-indigo-600 text-white rounded-full transition-all">Sign In</button>`;
            }

            switch(state.view) {
                case 'home': shell.innerHTML = renderHome(); break;
                case 'login': shell.innerHTML = renderLogin(); break;
                case 'english-selection': shell.innerHTML = renderEnglishSelection(); break;
                case 'topics-grid': shell.innerHTML = renderTopicsGrid(); break;
                case 'levels-grid': shell.innerHTML = renderLevelsGrid(); break;
                case 'content-view': shell.innerHTML = renderContentView(); loadAnkiContent(); break;
                case 'exams-pyq': shell.innerHTML = renderExamsPYQ(); break;
                case 'doubts': shell.innerHTML = renderDoubts(); break;
            }
        }

        function logout() { state.isAuthenticated = false; state.userName = ''; navigateTo('home'); }

        // --- TEMPLATES ---
        function renderHome() {
            return `
                <div class="hero-gradient pt-16 pb-32 px-6 view-transition text-center">
                    <div class="max-w-7xl mx-auto">
                        <span class="inline-block px-4 py-1.5 bg-indigo-50 text-indigo-700 text-[10px] font-black rounded-full mb-6 border border-indigo-100 uppercase tracking-widest">KPSC & SSC Official roadmap 2026</span>
                        <h1 class="text-5xl md:text-7xl font-black text-slate-900 tracking-tighter mb-6 leading-[1.1]">
                            ${state.isAuthenticated ? `Hello, <span class="text-indigo-600">${state.userName.split(' ')[0]}!</span><br>Mission Selection starts now.` : `Secure Your <span class="text-indigo-600 italic">Officer Rank.</span>`}
                        </h1>
                        <p class="text-lg text-slate-500 max-w-2xl mx-auto mb-16 font-medium">Bilingual study paths for FDA, SDA and SSC. Master general English levels 1-10.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
                            <div onclick="navigateTo('english-selection')" class="premium-card group">
                                <div class="w-14 h-14 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:bg-indigo-600 group-hover:text-white transition-all">üá¨üáß</div>
                                <h3 class="text-2xl font-bold mb-2 tracking-tight">General English</h3>
                                <p class="text-slate-500 text-sm mb-6 leading-relaxed">Levels 1-10 Grammar & Vocabulary mastery syllabus.</p>
                                <span class="text-indigo-600 text-xs font-bold uppercase tracking-widest">Mastery Hub ‚ûú</span>
                            </div>
                            <div onclick="navigateTo('exams-pyq', { currentCategory: 'karnataka' })" class="premium-card group">
                                <div class="w-14 h-14 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:bg-emerald-600 group-hover:text-white transition-all">üèõÔ∏è</div>
                                <h3 class="text-2xl font-bold mb-2 tracking-tight">KPSC Selection</h3>
                                <p class="text-slate-500 text-sm mb-6">Regional Archives for FDA, SDA and PSI recruitment.</p>
                                <span class="text-emerald-600 text-xs font-bold uppercase tracking-widest">PYQ Bank Sync ‚ûú</span>
                            </div>
                            <div onclick="navigateTo('exams-pyq', { currentCategory: 'ssc' })" class="premium-card group">
                                <div class="w-14 h-14 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:bg-amber-600 group-hover:text-white transition-all">‚öîÔ∏è</div>
                                <h3 class="text-2xl font-bold mb-2 tracking-tight">SSC Central Hub</h3>
                                <p class="text-slate-500 text-sm mb-6">CGL and CHSL focused archives and PYQ practice.</p>
                                <span class="text-amber-600 text-xs font-bold uppercase tracking-widest">Tier 1 & 2 Roadmap ‚ûú</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLogin() {
            return `<div class="max-w-md mx-auto px-6 py-24 view-transition text-center"><h2 class="text-4xl font-black text-slate-900 tracking-tighter mb-2">Welcome Aspirant</h2><p class="text-slate-500 mb-10 font-medium">Please enter your name to begin mastery.</p><form onsubmit="handleLogin(event)" class="bg-white border border-slate-200 p-10 rounded-[3rem] shadow-sm"><label class="block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 text-left">Your Name</label><input id="name-input" type="text" placeholder="Aspirant Name" class="w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-bold mb-6 focus:bg-white transition-all" required><button type="submit" class="w-full py-4 bg-indigo-600 text-white font-bold rounded-2xl shadow-xl active:scale-95 transition-all">Enter Mission Hub</button></form></div>`;
        }

        function renderEnglishSelection() {
            return `
                <div class="max-w-7xl mx-auto px-6 py-20 view-transition">
                    <button onclick="navigateTo('home')" class="text-slate-400 font-bold mb-8 flex items-center gap-2 hover:text-indigo-600 transition-colors">‚Üê Dashboard</button>
                    <h2 class="text-4xl font-black text-slate-900 tracking-tighter mb-12">English Preparation Tracks</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                        <div onclick="navigateTo('topics-grid', { currentType: 'grammar' })" class="premium-card hover:border-indigo-600 group">
                            <span class="px-3 py-1 bg-indigo-50 text-indigo-700 text-[9px] font-black rounded-full uppercase tracking-widest mb-6 inline-block">Rule Based</span>
                            <h3 class="text-3xl font-black mb-4 tracking-tight">English Grammar</h3>
                            <p class="text-slate-500 mb-8 leading-relaxed">Tenses, Voice, Prepositions and Error spotting rules for KPSC/SSC.</p>
                            <span class="text-indigo-600 font-bold text-sm uppercase tracking-widest">Phase 1-10 Roadmap ‚ûú</span>
                        </div>
                        <div onclick="navigateTo('topics-grid', { currentType: 'vocabulary' })" class="premium-card hover:border-emerald-500 group">
                            <span class="px-3 py-1 bg-emerald-50 text-emerald-700 text-[9px] font-black rounded-full uppercase tracking-widest mb-6 inline-block">Memory Based</span>
                            <h3 class="text-3xl font-black mb-4 tracking-tight">Vocabulary Hub</h3>
                            <p class="text-slate-500 mb-8 leading-relaxed">Synonyms, Idioms and Antonyms with bilingual recall technology.</p>
                            <span class="text-emerald-600 font-bold text-sm uppercase tracking-widest">Phase 1-10 Roadmap ‚ûú</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderTopicsGrid() {
            const topics = topicsData[state.currentType];
            return `
                <div class="max-w-7xl mx-auto px-6 py-20 view-transition">
                    <button onclick="navigateTo('english-selection')" class="text-slate-400 font-bold mb-8 flex items-center gap-2 hover:text-indigo-600 transition-colors">‚Üê Selection</button>
                    <h2 class="text-4xl font-black text-slate-900 tracking-tighter capitalize mb-12">${state.currentType} Roadmap</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        ${topics.map(t => `
                            <div onclick="navigateTo('levels-grid', { currentTopic: '${t.id}', currentTopicTitle: '${t.title}' })" class="premium-card p-10 group">
                                <div class="text-5xl mb-8 group-hover:scale-125 transition-transform duration-500">${t.icon}</div>
                                <h3 class="text-xl font-bold text-slate-900 mb-4 tracking-tight">${t.title}</h3>
                                <p class="text-[9px] font-bold text-slate-400 uppercase tracking-widest">Phase 1-10 Sync Active</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderLevelsGrid() {
            return `
                <div class="max-w-7xl mx-auto px-6 py-20 view-transition text-center">
                    <button onclick="navigateTo('topics-grid')" class="text-slate-400 font-bold mb-8 flex items-center gap-2 hover:text-indigo-600 transition-colors">‚Üê ${state.currentTopicTitle}</button>
                    <h2 class="text-4xl font-black text-slate-900 tracking-tighter mb-16">${state.currentTopicTitle} Mastery Hub</h2>
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-6">
                        ${Array.from({length: 10}, (_, i) => i + 1).map(lv => `
                            <div onclick="navigateTo('content-view', { currentLevel: ${lv} })" 
                                 class="p-10 border-2 border-slate-100 rounded-[2.5rem] text-center hover:border-indigo-600 hover:shadow-2xl transition-all cursor-pointer group bg-white shadow-sm">
                                <span class="text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-2 block group-hover:text-indigo-600">Phase</span>
                                <span class="text-4xl font-black text-slate-900">${lv}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderContentView() {
            return `
                <div class="max-w-4xl mx-auto px-6 py-20 view-transition">
                    <button onclick="navigateTo('levels-grid')" class="text-slate-400 font-bold flex items-center gap-2 hover:text-indigo-600 transition-colors mb-12">‚Üê All Phases</button>
                    <div id="content-container"></div>
                </div>
            `;
        }

        // --- FETCH & ANKI ENGINE ---
        async function loadAnkiContent() {
            const container = document.getElementById('content-container');
            container.innerHTML = `<div class="flex flex-col items-center justify-center py-24"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mb-4"></div><p class="text-slate-400 text-[10px] font-bold animate-pulse uppercase tracking-widest">Syncing from GitHub...</p></div>`;
            
            // Fixed Path Construction: general-english/vocabulary/level-1.json (Category Folder -> Topic File)
            const path = `./general-english/${state.currentType}/level-${state.currentLevel}.json`;

            try {
                const response = await fetch(path);
                if (!response.ok) throw new Error();
                const notes = await response.json();
                renderAnkiCards(notes, path);
            } catch (err) {
                container.innerHTML = `
                    <div class="text-center py-20 bg-white border border-slate-200 rounded-[3rem] shadow-sm">
                        <div class="text-5xl mb-6">üìÇ</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-2 tracking-tight">Milestone Offline</h3>
                        <p class="text-slate-500 mb-8 text-sm max-w-xs mx-auto font-medium">Please ensure your file is uploaded to GitHub at:<br><code class="bg-slate-100 p-1 rounded text-indigo-600 mt-2 block">${path}</code></p>
                        <button onclick="navigateTo('levels-grid')" class="px-10 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg active:scale-95 transition-all">Back to Roadmap</button>
                    </div>
                `;
            }
        }

        function renderAnkiCards(notes, path) {
            const container = document.getElementById('content-container');
            let html = `
                <div class="mb-16 text-center">
                    <span class="px-4 py-1 bg-indigo-50 text-indigo-700 text-[10px] font-black rounded-full uppercase tracking-widest mb-4 inline-block">Active Recall Mastery</span>
                    <h2 class="text-5xl font-black text-slate-900 tracking-tighter">Phase ${state.currentLevel} Progress</h2>
                    <p class="text-slate-400 text-sm mt-4 uppercase tracking-tighter font-bold">Tap card to reveal detailed mapping</p>
                </div>
                <div class="grid gap-12">
            `;

            notes.forEach(item => {
                // FormattingSynonyms: Real_Authentic -> Real, Authentic
                const syns = (item.meaning_english || item.meaning_en || "").replace(/_/g, ', ');
                const kn = item.meaning_kannada || item.meaning_kn || "";
                
                html += `
                    <div class="anki-card" onclick="this.classList.toggle('flipped')">
                        <div class="anki-card-inner">
                            <!-- FRONT OF CARD -->
                            <div class="anki-card-front">
                                <span class="text-7xl mb-8">${item.emoji || 'üìó'}</span>
                                <h3 class="text-5xl font-black text-slate-900 tracking-tighter">${item.word}</h3>
                                <p class="mt-12 text-slate-300 font-bold text-[10px] uppercase tracking-[0.3em]">Recall synonyms & flip</p>
                            </div>
                            <!-- BACK OF CARD -->
                            <div class="anki-card-back">
                                <p class="text-emerald-300 font-black text-xs uppercase tracking-widest mb-6 border-b border-emerald-300/30 pb-2">Bilingual Match</p>
                                <h3 class="text-5xl font-bold mb-4 font-kannada">${kn}</h3>
                                <div class="h-px w-20 bg-white/20 mb-8"></div>
                                <div class="text-center px-4">
                                    <p class="text-3xl font-bold text-white mb-2">${syns}</p>
                                    <p class="text-sm font-medium text-white/60 leading-relaxed max-w-sm mx-auto">${item.meaning_en || item.meaning_english || ''}</p>
                                </div>
                                <span class="mt-12 px-6 py-2 bg-white/10 rounded-full text-[10px] font-black uppercase tracking-widest">Mastered ‚ûú</span>
                            </div>
                        </div>
                    </div>
                `;
            });

            html += `
                <div class="p-16 bg-slate-900 rounded-[4rem] text-white text-center shadow-2xl mt-12 relative overflow-hidden group">
                    <h3 class="text-4xl font-black mb-4 tracking-tight">Milestone Reached!</h3>
                    <p class="text-slate-400 mb-10 text-lg font-medium">You have visualized all ${notes.length} concepts in Phase ${state.currentLevel}.</p>
                    <button onclick="navigateTo('levels-grid')" class="px-12 py-5 bg-white text-slate-900 font-black rounded-2xl shadow-xl hover:bg-slate-50 transition-all uppercase tracking-widest text-xs">Unlock Next Phase</button>
                    <div class="absolute -right-10 -bottom-10 text-white opacity-[0.03] text-9xl font-black rotate-12 group-hover:scale-110 transition-transform">PHASE ${state.currentLevel}</div>
                </div>
            </div>`;
            container.innerHTML = html;
        }

        function renderExamsPYQ() {
            const isKarnataka = state.currentCategory === 'karnataka';
            return `<div class="max-w-7xl mx-auto px-6 py-20 view-transition text-center"><button onclick="navigateTo('home')" class="text-slate-400 font-bold mb-8 flex items-center justify-center gap-2 hover:text-indigo-600 transition-colors mx-auto">‚Üê Dashboard</button><h2 class="text-4xl font-black text-slate-900 tracking-tighter mb-12 capitalize">${state.currentCategory} Regional Hub</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left"><div class="premium-card flex justify-between items-center group"><div><h3 class="text-2xl font-bold text-slate-900 mb-1 tracking-tight font-bold">Official Archives 2024</h3><p class="text-[10px] font-bold text-emerald-600 uppercase tracking-widest">Verified Answer Key</p></div><div class="w-14 h-14 bg-slate-50 border border-slate-100 rounded-2xl flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white transition-all"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg></div></div></div></div>`;
        }

        function renderDoubts() {
            return `<div class="max-w-3xl mx-auto px-6 py-20 text-center view-transition"><div class="w-24 h-24 bg-emerald-50 text-emerald-600 rounded-[2.5rem] flex items-center justify-center text-4xl mx-auto mb-8 shadow-sm">üí°</div><h2 class="text-4xl font-black text-slate-900 tracking-tighter mb-12">Clear Doubts</h2><div class="bg-white border border-slate-200 p-12 rounded-[3rem] shadow-sm text-left"><div class="mb-8 font-bold"><p class="text-xs uppercase tracking-widest text-slate-400 mb-2">Telegram Academy</p><p class="text-2xl text-indigo-700">@PrepEase_Official</p></div><div class="font-bold"><p class="text-xs uppercase tracking-widest text-slate-400 mb-2">Email Helpdesk</p><p class="text-2xl text-slate-900">help@prepease.com</p></div></div><button onclick="navigateTo('home')" class="mt-12 py-5 px-10 bg-indigo-600 text-white font-bold rounded-[2rem] hover:bg-indigo-700 shadow-xl transition-all uppercase tracking-widest text-xs">Continue Mission</button></div>`;
        }

        // --- MOTTO CYCLE ---
        let quoteIndex = 0;
        setInterval(() => {
            const el = document.getElementById('moto-text');
            if (!el) return;
            el.className = "text-[10px] md:text-xs font-bold uppercase tracking-[0.25em] inline-block fade-out";
            setTimeout(() => {
                quoteIndex = (quoteIndex + 1) % quotes.length;
                el.innerText = quotes[quoteIndex];
                el.className = "text-[10px] md:text-xs font-bold uppercase tracking-[0.25em] inline-block fade-in";
            }, 500);
        }, 5000);

        document.addEventListener('DOMContentLoaded', render);
    </script>
</body>
</html>
